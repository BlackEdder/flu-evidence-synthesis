<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Edwin van Leeuwen" />

<meta name="date" content="2020-01-14" />

<title>Using fluEvidenceSynthesis to predict efficacy of different vaccination scenarios</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using fluEvidenceSynthesis to predict efficacy of different vaccination scenarios</h1>
<h4 class="author">Edwin van Leeuwen</h4>
<h4 class="date">2020-01-14</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This package implements all the tools needed to analyse and compare the effectiveness of different Influenza vaccine programs (see Baguelin et al. (2013) for more details). This analysis has two main steps.</p>
<ol>
<li>Parameter inference using existing model</li>
<li>Simulation of different possible vaccination strategies using the inferred parameters</li>
</ol>
<p>This vignette will focus on how the fluEvidenceSythesis package can be used to perform the second step. For details on the first step see the inference vignette.</p>
<p>To test the efficacy of different vaccination scenarios you first need to specify a vaccination scenario. A vaccination scenario specifies the rate of vaccination per day of each age group and risk group during a given period and the efficacy of the vaccine during that season. The epidemiological model can then be run with this scenario. To run the model we also need to have the epidemiological parameters that we inferred by fitting the model to our Influenza data (see inference vignette).</p>
</div>
<div id="building-a-vaccination-scenario" class="section level1">
<h1>Building a vaccination scenario</h1>
<table>
<caption>The vaccination coverage rates in the UK in season 2007-08. Note that this only shows the first 6 weeks of data</caption>
<colgroup>
<col width="8%"></col>
<col width="16%"></col>
<col width="28%"></col>
<col width="8%"></col>
<col width="13%"></col>
<col width="23%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="center">Week</th>
<th align="center">Date</th>
<th align="center">Practices.responding</th>
<th align="center">X65</th>
<th align="center">Under.65</th>
<th align="center">at.risk.under.65</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">38</td>
<td align="center">2007-09-23</td>
<td align="center">NA</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">39</td>
<td align="center">2007-09-30</td>
<td align="center">23</td>
<td align="center">3.9</td>
<td align="center">0.25</td>
<td align="center">1.92</td>
</tr>
<tr class="odd">
<td align="center">40</td>
<td align="center">2007-10-07</td>
<td align="center">33.9</td>
<td align="center">12.5</td>
<td align="center">0.8</td>
<td align="center">6.17</td>
</tr>
<tr class="even">
<td align="center">41</td>
<td align="center">2007-10-14</td>
<td align="center">43.5</td>
<td align="center">42.6</td>
<td align="center">2.98</td>
<td align="center">21.26</td>
</tr>
<tr class="odd">
<td align="center">42</td>
<td align="center">2007-10-21</td>
<td align="center">43.9</td>
<td align="center">46.8</td>
<td align="center">3.37</td>
<td align="center">24.03</td>
</tr>
<tr class="even">
<td align="center">43</td>
<td align="center">2007-10-28</td>
<td align="center">46</td>
<td align="center">51.1</td>
<td align="center">3.75</td>
<td align="center">26.59</td>
</tr>
</tbody>
</table>
<p>The <code>as_vaccination_calendar()</code> function can be used to build a vaccination scenario object based on coverage data. In the example below we use the coverage rates for the 2007-08 season in the UK. If there are multiple age groups and risk groups then the layout in general is expected to be all age groups for one risk group, followed by the age groups for the second risk group etc. In the example below the efficacy of the under 65 at low risk is expected to be <span class="math inline">\(.7\)</span> and for the 65+ the efficacy is <span class="math inline">\(.4\)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;fluEvidenceSynthesis&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">data</span>(coverage)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co"># Coverage rates for respectively low risk &lt;65, low risk 65+,</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># high risk &lt;65 and 65+. Original is in percentages. Here converted to fraction</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">cov &lt;-<span class="st"> </span>coverage[,<span class="kw">c</span>(<span class="st">&quot;Under.65&quot;</span>,<span class="st">&quot;X65&quot;</span>,<span class="st">&quot;at.risk.under.65&quot;</span>,<span class="st">&quot;X65&quot;</span>)]<span class="op">/</span><span class="fl">100.0</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">vaccine_calendar &lt;-<span class="st"> </span><span class="kw">as_vaccination_calendar</span>(<span class="dt">efficacy =</span> <span class="kw">c</span>(<span class="fl">0.7</span>, <span class="fl">0.4</span>, <span class="fl">0.7</span>, <span class="fl">0.4</span>), </a>
<a class="sourceLine" id="cb1-8" data-line-number="8">                                        <span class="dt">dates =</span> coverage<span class="op">$</span>Date,</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">                                        <span class="dt">coverage =</span> cov, </a>
<a class="sourceLine" id="cb1-10" data-line-number="10">                                        <span class="dt">no_age_groups =</span> <span class="dv">2</span>, <span class="dt">no_risk_groups =</span> <span class="dv">2</span>)</a></code></pre></div>
<div id="more-age-groups" class="section level2">
<h2>More age groups</h2>
<p>Below we show how to create a vaccination calendar for 7 age groups and 3 risk groups. We assume at risk young children and 65 year and older get a vaccine.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;fluEvidenceSynthesis&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">efficacy &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="fl">0.7</span>, <span class="fl">0.7</span>, <span class="fl">0.7</span>, <span class="fl">0.7</span>, <span class="fl">0.7</span>, <span class="fl">0.7</span>, <span class="fl">0.3</span>), <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">coverage &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rep</span>(<span class="dv">0</span>,<span class="dv">21</span><span class="op">*</span><span class="dv">4</span>),<span class="dt">ncol =</span> <span class="dv">21</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">dates &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2010-10-01&quot;</span>), <span class="kw">as.Date</span>(<span class="st">&quot;2010-11-01&quot;</span>),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">            <span class="kw">as.Date</span>(<span class="st">&quot;2010-12-01&quot;</span>), <span class="kw">as.Date</span>(<span class="st">&quot;2011-01-01&quot;</span>))</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  </a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co"># Set rate of vaccine uptake for different dates/age groups</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co"># In this case the elderly (age group 7) start with a coverage of 0.62 in the first month</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co"># followed by 0.7 and 0.925 in the second and third month. After three months the total uptake will be.</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">coverage[<span class="dv">1</span>,<span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">14</span>,<span class="dv">21</span>)] &lt;-<span class="st"> </span><span class="fl">0.0</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">coverage[<span class="dv">2</span>,<span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">14</span>,<span class="dv">21</span>)] &lt;-<span class="st"> </span><span class="fl">0.62</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14">coverage[<span class="dv">3</span>,<span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">14</span>,<span class="dv">21</span>)] &lt;-<span class="st"> </span><span class="fl">0.77</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">coverage[<span class="dv">4</span>,<span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">14</span>,<span class="dv">21</span>)] &lt;-<span class="st"> </span><span class="fl">0.925</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co"># Set coverage for high risk young children</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18">coverage[<span class="dv">1</span>,<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">9</span>)] &lt;-<span class="st"> </span><span class="fl">0.0</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19">coverage[<span class="dv">2</span>,<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">9</span>)] &lt;-<span class="st"> </span><span class="fl">0.62</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20">coverage[<span class="dv">3</span>,<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">9</span>)] &lt;-<span class="st"> </span><span class="fl">0.62</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21">coverage[<span class="dv">4</span>,<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">9</span>)] &lt;-<span class="st"> </span><span class="fl">0.62</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"></a>
<a class="sourceLine" id="cb2-23" data-line-number="23">vaccine_calendar &lt;-<span class="st"> </span><span class="kw">as_vaccination_calendar</span>(<span class="dt">efficacy =</span> efficacy, <span class="dt">dates =</span> dates, </a>
<a class="sourceLine" id="cb2-24" data-line-number="24">                                            <span class="dt">coverage =</span> coverage, <span class="dt">no_age_groups =</span> <span class="dv">7</span>,</a>
<a class="sourceLine" id="cb2-25" data-line-number="25">                                            <span class="dt">no_risk_groups =</span> <span class="dv">3</span>)</a></code></pre></div>
</div>
<div id="outbreak-size" class="section level2">
<h2>Outbreak size</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Load needed data</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">data</span>(<span class="st">&quot;demography&quot;</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw">data</span>(<span class="st">&quot;polymod_uk&quot;</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw">data</span>(<span class="st">&quot;inference.results&quot;</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co"># This returns the total size of the outbreak given the vaccination scenario and the</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># 1000th posterior (mcmc) sample. The outbreak sizes is separated by age group and </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co"># risk groups</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">cases.per.year &lt;-<span class="st"> </span><span class="kw">vaccination_scenario</span>(<span class="dt">demography =</span> demography,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                     <span class="dt">vaccine_calendar =</span> vaccine_calendar,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                     <span class="dt">polymod_data =</span> <span class="kw">as.matrix</span>(polymod_uk),</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">                     <span class="dt">contact_ids =</span> inference.results<span class="op">$</span>contact.ids[<span class="dv">1000</span>,],</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">                     <span class="dt">parameters =</span> inference.results<span class="op">$</span>batch[<span class="dv">1000</span>,],</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">                     <span class="dt">verbose =</span> F</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">                    )</a></code></pre></div>
<p>The above shows how to use a specific posterior (mcmc) sample to create one prediction. In general, you should have a number of samples from the posterior and you call vaccinationScenario using each of those samples. This will result in a posterior distribution for the predicted efficacy of your vaccinationScenario. This can then be used for further analysis, such as the cost effectiveness of your analysis.</p>
</div>
<div id="full-posterior-of-cases" class="section level2">
<h2>Full posterior of cases</h2>
<p>To get the full posterior of cases under this vaccination scenario you can run it for each inference sample as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">cases &lt;-<span class="st"> </span><span class="kw">rowSums</span>(<span class="kw">vaccination_scenario</span>(<span class="dt">demography=</span>demography,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">                              <span class="dt">vaccine_calendar=</span>vaccine_calendar,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                              <span class="dt">polymod_data=</span><span class="kw">as.matrix</span>(polymod_uk),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                              <span class="dt">contact_ids=</span>inference.results<span class="op">$</span>contact.ids,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">                              <span class="dt">parameters=</span>inference.results<span class="op">$</span>batch,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">                              <span class="dt">verbose =</span> F</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">))</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">cases_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">value =</span> cases, <span class="dt">scenario =</span> <span class="st">&quot;Original&quot;</span>)</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="kw">ggplot</span>(<span class="dt">data =</span> cases_df) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> value), <span class="dt">bins =</span> <span class="dv">25</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="change-the-vaccination-coverage" class="section level2">
<h2>Change the vaccination coverage</h2>
<p>Here we show an example on how you could change the uptake rate of vaccination to a 80% uptake in all the age/risk groups.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Helper function to scale the uptake of each age/risk group, so that at the end of the vaccination period the vaccination is equal to </span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># the given final_uptake</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">change_coverage &lt;-<span class="st"> </span><span class="cf">function</span>(data, final_uptake) {</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  sums &lt;-<span class="st"> </span>data[<span class="kw">nrow</span>(data),]</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="co"># If final uptake is zero in a group then we need to make some kind of assumption on uptake rate over time</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="cf">if</span> (<span class="kw">any</span>(sums <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)) {</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">    <span class="kw">warning</span>(<span class="st">&quot;No prior information on uptake rate. Using constant uptake rate&quot;</span>)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">    col &lt;-<span class="st"> </span><span class="kw">which</span>(sums <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">    data[,col] &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, (<span class="kw">nrow</span>(data)<span class="op">-</span><span class="dv">1</span>))</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">    sums &lt;-<span class="st"> </span>data[<span class="kw">nrow</span>(data),]    </a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  }</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(data)) {</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">    data[i,] &lt;-<span class="st"> </span>data[i,]<span class="op">*</span>final_uptake<span class="op">/</span>sums</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">  }</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">  data</a>
<a class="sourceLine" id="cb5-16" data-line-number="16">}</a>
<a class="sourceLine" id="cb5-17" data-line-number="17"></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co"># Scale all age groups to 80%</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19">new_coverage &lt;-<span class="st"> </span><span class="kw">change_coverage</span>(coverage, <span class="kw">rep</span>(<span class="fl">0.8</span>, <span class="kw">ncol</span>(coverage)))</a></code></pre></div>
<pre><code>## Warning in change_coverage(coverage, rep(0.8, ncol(coverage))): No prior
## information on uptake rate. Using constant uptake rate</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># The rest of the simulation is similar as above, but now using the new_calendar</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">new_vaccine_calendar &lt;-<span class="st"> </span><span class="kw">as_vaccination_calendar</span>(<span class="dt">efficacy =</span> efficacy, <span class="dt">dates =</span> dates, </a>
<a class="sourceLine" id="cb7-3" data-line-number="3">                                            <span class="dt">coverage =</span> new_coverage, <span class="dt">no_age_groups =</span> <span class="dv">7</span>,</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">                                            <span class="dt">no_risk_groups =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">new_cases &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">  </span><span class="kw">rowSums</span>(<span class="kw">vaccination_scenario</span>(<span class="dt">demography =</span> demography,</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">                               <span class="dt">vaccine_calendar =</span> new_vaccine_calendar,</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">                               <span class="dt">polymod_data =</span> <span class="kw">as.matrix</span>(polymod_uk),</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">                               <span class="dt">contact_ids =</span> inference.results<span class="op">$</span>contact.ids,</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">                               <span class="dt">parameters =</span> inference.results<span class="op">$</span>batch,</a>
<a class="sourceLine" id="cb7-12" data-line-number="12">                               <span class="dt">verbose =</span> F</a>
<a class="sourceLine" id="cb7-13" data-line-number="13">  ))</a>
<a class="sourceLine" id="cb7-14" data-line-number="14"></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co"># Add the new results to the cases_df table</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16">cases_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">value =</span> new_cases, <span class="dt">scenario =</span> <span class="st">&quot;New&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="st">  </span><span class="kw">rbind</span>(cases_df)</a>
<a class="sourceLine" id="cb7-18" data-line-number="18"></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="kw">ggplot</span>(<span class="dt">data=</span>cases_df) <span class="op">+</span><span class="st"> </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">y=</span>value, <span class="dt">x=</span>scenario), <span class="dt">scale =</span> <span class="st">&quot;width&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="possible-exercises" class="section level2">
<h2>Possible exercises</h2>
<ol style="list-style-type: decimal">
<li>Try different vaccination scenarios
<ul>
<li>Uptake rate</li>
<li>Additional age groups/risk groups</li>
</ul></li>
<li>Explore the results by age group/risk group</li>
</ol>
</div>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>Baguelin, Marc, Stefan Flasche, Anton Camacho, Nikolaos Demiris, Elizabeth Miller, and W. John Edmunds. ‘Assessing Optimal Target Populations for Influenza Vaccination Programmes: An Evidence Synthesis and Modelling Study.’ PLoS Med 10, no. 10 (2013): e1001527. <a href="doi:10.1371/journal.pmed.1001527" class="uri">doi:10.1371/journal.pmed.1001527</a>.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
